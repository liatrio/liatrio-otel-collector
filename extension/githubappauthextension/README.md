# GitHub App Authentication

<!-- markdownlint-disable -->
<!-- status autogenerated section -->
| Status        |           |
| ------------- |-----------|
| Stability     | [alpha]  |
| Distributions | [] |
| Issues        | [![Open issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aopen%20label%3Aextension%2Fgithuboappauth%20&label=open&color=orange&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aopen+is%3Aissue+label%3Aextension%2Fgithuboappauth) [![Closed issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aclosed%20label%3Aextension%2Fgithuboappauth%20&label=closed&color=blue&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aclosed+is%3Aissue+label%3Aextension%2Fgithuboappauth) |

[alpha]: https://github.com/open-telemetry/opentelemetry-collector#alpha
<!-- end autogenerated section -->
<!-- markdownlint-enable -->

This authentication extension supports authenticating to GitHub by
authenticating to GitHub as an installation. This was purpose built for the
GitProviderReceiver to reduce the need for PATs and reduce rate limiting.

There are a few pre-reqs you have to do in order to get a GitHub App to work
with this extension. These instructions may change based on changes to GitHub.

## Creating a GitHub Application

1. Create a GitHub Application similar to shown in the below pictures.
<!-- picture -->
2. Set the repository permissions correctly. These permissions may need to be
   adjusted based on the queries being made. The below image reflects the base
   permissions needed for the GitProvider Receiver to gather all of the metrics
   supported in the GitHub scraper. These permissions should be read-only as
   the GitHub scraper does not write anything.
<!-- picture -->
3. Ensure the GitHub App is installed on the repositories within an
   organization that you want to take a look at. General recommendation is to
   install it org wide.
<!-- picture -->
4. Get your Application ID and create a private key.
<!-- picture -->
5. Get your Installation ID.
<!-- picture -->
6. Update your GitHub App Extension config to reflect those values. 
```yaml
extensions:
  githubappauth:
    app_id: 1234
    installation_id: 1234
    private_key_file: "path/to/key.pem"
```

Note: Private keys are sensitive by nature and will be used to sign the JWT
passed to GitHub. It's important to protect these values through proper Secrets
Management controls.
